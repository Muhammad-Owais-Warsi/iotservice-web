# ============================================
# DATABASE CONFIGURATION (Supabase PostgreSQL)
# ============================================

# Connection Pooling URL (Port 6543) - Used for most queries
# Get this from: Supabase Dashboard → Settings → Database → Connection String → Transaction Mode
DATABASE_URL="postgresql://postgres.euxpcoobijvjmzilyzle:[YOUR-PASSWORD]@aws-0-ap-south-1.pooler.supabase.com:6543/postgres?pgbouncer=true"

# Direct Connection URL (Port 5432) - Used for migrations and schema operations
# Get this from: Supabase Dashboard → Settings → Database → Connection String → Session Mode
DIRECT_URL="postgresql://postgres.euxpcoobijvjmzilyzle:[YOUR-PASSWORD]@aws-0-ap-south-1.compute.amazonaws.com:5432/postgres"

# ============================================
# SERVER CONFIGURATION
# ============================================

# Port for local development (Vercel ignores this in production)
PORT=5000

# Node environment
NODE_ENV=development

# Frontend URL for CORS
FRONTEND_URL=http://localhost:5173

# ============================================
# JWT & AUTHENTICATION
# ============================================

# Secret key for JWT token signing (generate a strong random string)
# Generate using: node -e "console.log(require('crypto').randomBytes(32).toString('hex'))"
JWT_SECRET=your-super-secret-jwt-key-change-this-in-production

# JWT expiration time
JWT_EXPIRES_IN=7d

# ============================================
# EMAIL CONFIGURATION (for alerts & notifications)
# ============================================

# SMTP settings (example using Gmail)
SMTP_HOST=smtp.gmail.com
SMTP_PORT=587
SMTP_SECURE=false
SMTP_USER=your-email@gmail.com
SMTP_PASS=your-app-specific-password

# Email sender details
EMAIL_FROM=noreply@iotservice.com
EMAIL_FROM_NAME=IoT Service Platform

# ============================================
# FILE UPLOAD CONFIGURATION
# ============================================

# Maximum file size for uploads (in bytes)
MAX_FILE_SIZE=10485760

# Upload directory (relative to backend root)
UPLOAD_DIR=./uploads

# ============================================
# EXTERNAL SERVICES (Optional)
# ============================================

# Twilio for SMS notifications (optional)
TWILIO_ACCOUNT_SID=your-twilio-account-sid
TWILIO_AUTH_TOKEN=your-twilio-auth-token
TWILIO_PHONE_NUMBER=+1234567890

# AWS S3 for file storage (optional, if not using local storage)
AWS_ACCESS_KEY_ID=your-aws-access-key
AWS_SECRET_ACCESS_KEY=your-aws-secret-key
AWS_REGION=ap-south-1
AWS_S3_BUCKET=iotservice-uploads

# ============================================
# MONITORING & LOGGING
# ============================================

# Log level (error, warn, info, debug)
LOG_LEVEL=info

# Sentry DSN for error tracking (optional)
SENTRY_DSN=your-sentry-dsn

# ============================================
# VERCEL DEPLOYMENT NOTES
# ============================================

# When deploying to Vercel, add these environment variables:
# 1. DATABASE_URL (from Supabase Transaction Mode)
# 2. DIRECT_URL (from Supabase Session Mode)
# 3. JWT_SECRET (generate a new one for production)
# 4. FRONTEND_URL (your production frontend URL)
# 5. NODE_ENV=production
# 6. All email/SMS credentials if using notifications

# To add environment variables in Vercel:
# 1. Go to your project → Settings → Environment Variables
# 2. Add each variable with its value
# 3. Select the appropriate environment (Production, Preview, Development)
# 4. Redeploy your application
